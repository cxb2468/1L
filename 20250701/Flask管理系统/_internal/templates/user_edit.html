{% extends 'base.html' %}
{% block content %}
<div class="container" style="max-width:400px;margin-top:50px;">
    <h3 class="mb-4">编辑用户</h3>
    <form method="post">
        <div class="form-group">
            <label>用户名</label>
            <input type="text" name="username" class="form-control" value="{{ user.username }}" required>
        </div>
        <div class="form-group">
            <label>新密码（留空则不修改）</label>
            <input type="password" name="password" class="form-control">
        </div>
        <div class="form-check mb-2">
            <input type="checkbox" name="is_admin" class="form-check-input" id="is_admin" {% if user.is_admin %}checked{% endif %}>
            <label class="form-check-label" for="is_admin">管理员</label>
        </div>
        <div class="form-group">
            <label>模块权限</label><br>
            <input type="checkbox" name="permissions" value="contract" {% if 'contract' in user.permissions %}checked{% endif %}> 合同管理
            <input type="checkbox" name="permissions" value="project" {% if 'project' in user.permissions %}checked{% endif %}> 项目管理
            <input type="checkbox" name="permissions" value="staff" {% if 'staff' in user.permissions %}checked{% endif %}> 人员管理
        </div>
        <button type="submit" class="btn btn-primary btn-block">保存</button>
        <a href="/user/list" class="btn btn-secondary btn-block">返回</a>
    </form>
</div>
{% endblock %} 